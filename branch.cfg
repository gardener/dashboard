cfgs:
  default:
    branches: ['master']
    inherit:
      dashboard:
        base_definition:
          repo:
            source_labels:
              - name: cloud.gardener.cnudie/dso/scanning-hints/source_analysis/v1
                value:
                  policy: skip
                  comment: |
                    we use eslint-plugin-security (linter) for sast scanning. See attached log.
        jobs:
          release:
            traits:
              release:
                assets:
                  - type: build-step-log
                    step_name: verify
                    purposes:
                      - lint
                      - sast
                      - eslint-plugin-security
                    comment: |
                      we use eslint-plugin-security (linter) for SAST scans
                      see: https://github.com/eslint-community/eslint-plugin-security
                      enabled by https://github.com/gardener/dashboard/pull/2029
  release-branches:
    branches: ['hotfix-.*']
    inherit:
      dashboard:
        base_definition:
          repo:
            source_labels:
            - name: cloud.gardener.cnudie/dso/scanning-hints/source_analysis/v1
              value:
                policy: skip
                comment: |
                  we use eslint-plugin-security (linter) for sast scanning. See attached log.
        jobs:
          release:
            traits:
              release:
                nextversion: 'bump_patch'
                assets:
                  - type: build-step-log
                    step_name: verify
                    purposes:
                      - lint
                      - sast
                      - eslint-plugin-security
                    comment: |
                      we use eslint-plugin-security (linter) for SAST scans
                      see: https://github.com/eslint-community/eslint-plugin-security
                      enabled by https://github.com/gardener/dashboard/pull/2029
  openmfp:
    branches: ['openmfp']
    inherit:
      dashboard:
        jobs:
          build-openmfp-image:
            traits:
              publish:
                oci-builder: docker-buildx
                platforms:
                - linux/amd64
                - linux/arm64
                dockerimages:
                  gardener-dashboard:
                    inputs:
                      repos:
                        source: ~ # default
                    image: 'europe-docker.pkg.dev/gardener-project/snapshots/gardener/dashboard-openmfp'
                    target: dashboard
                    resource_labels:
                    - name: 'gardener.cloud/cve-categorisation'
                      value:
                        network_exposure: 'public'
                        authentication_enforced: false
                        user_interaction: 'end-user'
                        confidentiality_requirement: 'high'
                        integrity_requirement: 'high'
                        availability_requirement: 'low'
